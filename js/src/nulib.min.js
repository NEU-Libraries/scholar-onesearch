var scholarOneSearch=function(){"use strict";var e=function(){var e=$("#exlidResultsTable tr.EXLResult");e.each(function(){var e=$(this).find("h2.EXLResultTitle").text().trim(),i=$(this).find("a.EXLResultRecordId").attr("id"),t=e+" ("+i+")",o="http://library.northeastern.edu/get-help/tech-support/report-a-problem?resource="+encodeURIComponent(t),a=$('<li><a class="report-a-problem  btn btn-small btn-link" href="'+o+'" title="Report a problem." target="_blank"><i class="icon-comments-alt"></a><li>');$(this).find("ul.EXLResultTabs").append(a)}),$("a.report-a-problem").tooltip()},i=function(){"true"!==sessionStorage.getItem("popoverDissmiss")&&$("ul.EXLEShelfTileGuest > li.EXLSignOut").popover({title:'Why Sign In?<button="#exlidSignOut" id="nulib-signin-popover" class="close pull-right" onclick="scholarOneSearch.dismissSigninPopover()")">x</button>',content:"<p>Get more results, personalized for you!</p>",placement:"bottom",html:!0}).popover("show")},t=function(){$("ul.EXLEShelfTileGuest > li.EXLSignOut").popover("hide"),sessionStorage.setItem("popoverDissmiss","true")},o=function(){var e=1;$("li.EXLFacetsDisplayMore").hide(),$("#facetList > .EXLFacetContainer").each(function(){var i=$('<a href="#expandFacet'+e+'"/></a>'),t=$('<i class="icon-expand-alt icon-large pull-right"></i>');i.click(function(){$(this).parents(".EXLFacetContainer").find("li.EXLFacet").toggleClass("EXLAdditionalFacet"),$(this).find("i").toggleClass("icon-expand-alt").toggleClass("icon-collapse-alt")}),$(this).find("h4").wrap(i).after(t),e++})},a=function(){$('img[alt="Add to e-Shelf"]').after('<i class="icon-bookmark-empty icon-large"></i>').hide(),$('img[alt="In e-Shelf"]').after('<i class="icon-bookmark icon-large"></i>').hide(),$("td.EXLMyShelfStar > a").addClass("btn btn-success btn-small").click(function(){"In e-Shelf"===$(this).data("original-title")?$(this).tooltip("destroy").attr("title","Add to e-Shelf").tooltip({title:"Add to e-Shelf"}):$(this).tooltip("destroy").attr("title","In e-Shelf").tooltip({title:"In e-Shelf"});var e=$(this).children("i");e.hasClass("icon-bookmark-empty")?e.removeClass("icon-bookmark-empty").addClass("icon-bookmark"):e.removeClass("icon-bookmark").addClass("icon-bookmark-empty")}).tooltip()},n=function(){$("a.EXLBriefResultsPaginationLinkNext > img").after('<i class="icon-circle-arrow-right"></i>'),$("a.EXLBriefResultsPaginationLinkPrevious:first-of-type > img").after('<i class="icon-circle-arrow-left"></i>'),$("#goButton").val("âžœ"),$('form[name="rssForm"]').prepend('<i class="icon-rss"></i>'),$(".EXLFacetSaveSearchAction > a").before('<i class="icon-save"/>'),$(".EXLFacetSaveToEShelfAction > a").before('<i class="icon-bookmark"/>'),$('img[src="../images/icon_popout_tab.png"]').hide().after('<i class="icon-external-link"></i>'),$("a.EXLFirstRefinementElement").find("#removeFacet").hide().before('<i class="icon-remove-circle close"/>'),$('img[src="../images/folders_close_inpage.gif"]').hide().before('<i class="icon-folder-close"></i>'),$('img[src="../images/folders_open.gif"]').hide().before('<i class="icon-folder-open"></i>')},s=function(){$("a#showMoreOptions, a.EXLSearchFieldRibbonAdvancedTwoLinks").tooltip()},l=function(){var e=$(".EXLFindDBListHeaderAtoZSelected > a");e.addClass("active")},r=function(){var e=$("#scopesListContainer").find('input[type="radio"]');e.click(function(){e.removeAttr("checked")})},c=function(){$("#draggable").html('<i class="icon-resize-vertical"></i>').find("img").hide(),$("#demoLibId").before($("#draggable"))},d=function(){$("#search_field").attr("placeholder","Search..."),c(),a(),o(),e(),n(),l(),r(),s(),console.log("Init Ran!")};return{buildFacetCollapse:o,signinPopover:i,dismissSigninPopover:t,eShelfIcons:a,buildIcons:n,init:d,addToolTips:s}}();window.scholarOneSearch=scholarOneSearch,$(document).ready(scholarOneSearch.init);